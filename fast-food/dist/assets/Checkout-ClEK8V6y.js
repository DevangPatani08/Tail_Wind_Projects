import{c as g,u as q,r as d,j as e,C as r,L as w,g as I,n as T,e as A}from"./index-DmDDhjXK.js";const Y=()=>{const b=g(a=>a.cart.items),f=g(a=>a.cart.totalAmount).toFixed(2),_=q(),[c,h]=d.useState(""),[k,p]=d.useState(!1),[n,v]=d.useState({number:"",name:"",expiry:"",cvv:""}),[j,N]=d.useState(""),[m,C]=d.useState({accountNumber:"",accountName:"",bankName:""}),[F,P]=d.useState(!1),[M,x]=d.useState({}),o=a=>{const{name:l,value:t}=a.target;if(x(s=>({...s,[l]:""})),l==="number"){const i=t.replace(/\D/g,"").replace(/(.{4})/g,"$1 ").trim();v(u=>({...u,[l]:i}))}else if(l==="expiry"){let s=t.replace(/\D/g,"");s.length>2&&(s=`${s.slice(0,2)}/${s.slice(2,4)}`),v(i=>({...i,[l]:s}))}else if(l==="cvv"){let s=t.replace(/\D/g,"").slice(0,3);v(i=>({...i,[l]:s}))}else l==="name"?v(s=>({...s,[l]:t})):l==="paypalEmail"?N(t):C(s=>({...s,[l]:t}))},D=a=>{switch(c){case"credit-card":return e.jsxs("div",{className:"mt-3 p-3 border border-[var(--color-bd)] rounded-lg",children:[e.jsx(r,{variant:"h6",className:"mb-3",children:"Credit Card Details"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"Card Number"}),e.jsx("input",{type:"text",name:"number",value:n.number,maxLength:19,placeholder:"1234 5678 9102 3456",onChange:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.number?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.number&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.number})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"Card Holder Name"}),e.jsx("input",{type:"text",name:"name",value:n.name,placeholder:"Jhon Doe",onChange:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.name?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.name&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"Expiry Date"}),e.jsx("input",{type:"text",name:"expiry",value:n.expiry,placeholder:"MM/YY",onChange:o,maxLength:"5",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.expiry?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.expiry&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.expiry})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"CVV"}),e.jsx("input",{type:"text",name:"cvv",value:n.cvv,placeholder:"123",onChange:o,maxLength:"3",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.cvv?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.cvv&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.cvv})]})]})]});case"paypal":return e.jsxs("div",{className:"mt-3 p-3 border border-[var(--color-bd)] rounded-lg",children:[e.jsx(r,{variant:"h6",className:"text-[var(--color-n)] mb-3",children:"PayPal Details"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"PayPal Email"}),e.jsx("input",{type:"email",placeholder:"your@email.com",value:j,onChange:l=>N(l.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.paypalEmail?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.paypalEmail&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.cvv})]})]});case"bank-transfer":return e.jsxs("div",{className:"mt-3 p-3 border border-[var(--color-bd)] rounded-lg",children:[e.jsx(r,{variant:"h6",className:"text-[var(--color-n)] mb-3",children:"Bank Transfer Details"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"Bank Name"}),e.jsxs("select",{name:"bankName",value:m.bankName,onChange:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.bankName?"border-red-500":"border-[var(--color-bd)]"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select a bank"}),e.jsx("option",{value:"Chase Bank",children:"Chase Bank"}),e.jsx("option",{value:"Bank of America",children:"Bank of America"}),e.jsx("option",{value:"Wells Fargo",children:"Wells Fargo"}),e.jsx("option",{value:"Citibank",children:"Citibank"}),e.jsx("option",{value:"HSBC",children:"HSBC"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),a.bankName&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.bankName})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-[var(--color-n)] mb-1",children:"Account Number"}),e.jsx("input",{type:"text",placeholder:"1234567890",name:"accountNumber",value:m.accountNumber,maxLength:"10",onChange:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.accountNumber?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.accountNumber&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.accountNumber})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(r,{variant:"l_l_m",children:[e.jsx("label",{className:"block text-{var(--color-n)} mb-1",children:"Account Holder Name"}),e.jsx("input",{type:"text",placeholder:"John Doe",name:"accountName",value:m.accountName,onChange:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-s)] ${a.accountName?"border-red-500":"border-[var(--color-bd)]"}`,required:!0})]}),a.accountName&&e.jsx(r,{variant:"small_m",className:"mt-1 text-red-500",children:a.accountName})]})]});case"cash-on-delivery":return e.jsxs("div",{className:"mt-3 p-3 border border-[var(--color-bd)] rounded-lg",children:[e.jsx(r,{variant:"h6",className:"mb-3 text-[var(--color-n)]",children:"Cash on Delivery"}),e.jsx(r,{variant:"l_l_m",className:"text-[var(--color-n-m)]",children:"Pay with cash when your order is delivered."})]});default:return null}},S=a=>{const[l,t]=a.split("/");if(!l||!t||l.length!==2||t.length!==2)return!1;const s=parseInt(new Date().getFullYear().toString().slice(2),10),i=parseInt(new Date().getMonth().toString()+1,10),u=parseInt(l,10),y=parseInt(t,10);return!(u<1||u>12||y<s||y===s&&u<i)},$=()=>{const a={};let l=!0;switch(c){case"credit-card":n.number.replace(/\s/g,"").length!==16&&(a.number="Please enter a valid 16-digit card number.",l=!1),n.name.trim().split(/\s+/).length<2&&(a.name="Please enter a first and last name.",l=!1),S(n.expiry)||(a.expiry="Please enter a valid expiry date (MM/YY) that is not in the past.",l=!1),n.cvv.length!==3&&(a.cvv="CVV must be exactly 3 digits.",l=!1);break;case"paypal":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j)||(a.paypalEmail="Please enter a valid email address.",l=!1);break;case"bank-transfer":m.bankName.trim()||(a.bankName="Please select a bank from the list.",l=!1),m.accountName.trim().split(/\s+/).length<2&&(a.accountName="Please enter a first and last name.",l=!1),m.accountNumber.length!==10&&(a.accountNumber="Account number must be exactly 10 digits.",l=!1);break;case"cash-on-delivery":break;default:a.paymentMethod="Please select a payment method.",l=!1}return x(a),l},E=a=>{if(a.preventDefault(),P(!0),b.length===0){alert("Your cart is empty! Please add items before checking out.");return}$()&&p(!0)},B=()=>{p(!1)},V=()=>{_(A.clearCart()),p(!1)};return e.jsxs("section",{className:"w-full flex flex-col items-center justify-start box-border px-6 md:px-10",children:[e.jsxs("div",{className:"w-full max-w-[90rem] pt-24 flex flex-col items-center justify-start box-border",children:[e.jsx("div",{className:"w-full flex items-center justify-start box-border mb-4",children:e.jsx(r,{variant:"l_c_m",asChild:!0,children:e.jsxs(w,{to:"/cart",onClick:()=>{window.scrollTo(0,0)},className:"w-fit px-8 lg:px-10 py-3 text-[var(--color-n-m)] hover:text-[var(--color-p)] flex items-center justify-center gap-2 transition-all duration-300 ease-linear cursor-pointer capitalize",children:[e.jsx(I,{className:"w-5 h-5 lg:w-6 lg:h-6"}),e.jsx("span",{children:"Back to Cart"})]})})}),e.jsx("div",{className:"w-full flex flex-col items-center justify-start box-border mb-10",children:e.jsxs(r,{variant:"h2",className:"w-full text-[var(--color-n)] text-center",children:["Check",e.jsx("span",{className:"text-[var(--color-s)]",children:"Out"})]})}),e.jsxs("div",{className:"w-full h-fit flex flex-col md:flex-row items-start justify-between gap-10",children:[e.jsx("div",{className:"w-full md:w-3/5 h-fit",children:e.jsxs("div",{className:"bg-[var(--color-bg-b)] rounded-lg shadow-md p-6 mb-6",children:[e.jsx(r,{variant:"h4",className:"w-full text-left text-[var(--color-n)]",children:"Final Summary"}),e.jsxs("div",{className:"divide-y divide-[var(--color-bd)] mt-8",children:[b.map(a=>e.jsxs("div",{className:"py-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(r,{variant:"l_l_m",className:"text-[var(--color-n)]",children:a.name}),e.jsxs(r,{variant:"p_r",className:"text-[var(--color-n-m)] ml-2",children:["Quantity: ",a.quantity]})]}),e.jsxs(r,{variant:"l_l_b",className:"text-[var(--color-n-m)] ml-2",children:["$",a.totalPrice.toFixed(2)]})]},a.id)),e.jsxs("div",{className:"py-3 flex justify-between items-center mt-6",children:[e.jsx(r,{variant:"h6",className:"text-[var(--color-n)]",children:"Total:"}),e.jsxs(r,{variant:"h6",className:"text-[var(--color-p)]",children:["$",f]})]})]})]})}),e.jsxs("div",{className:"w-full md:w-2/5 h-fit bg-[var(--color-bg-b)] rounded-lg shadow-md p-6",children:[e.jsx(r,{variant:"h4",className:"w-full text-left text-[var(--color-n)]",children:"Payment Methods"}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{variant:"l_l_b",children:e.jsx("label",{className:"block text-[var(--color-n)] mb-2",children:"Select Payment Method"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{variant:"l_l_m",asChild:!0,children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"credit-card",checked:c==="credit-card",onChange:a=>{h(a.target.value),x({})},className:"text-[var(--color-p)]"}),e.jsx("span",{children:"Credit Card"})]})}),e.jsx(r,{variant:"l_l_m",asChild:!0,children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:c==="paypal",onChange:a=>{h(a.target.value),x({})},className:"text-[var(--color-p)]"}),e.jsx("span",{children:"Paypal"})]})}),e.jsx(r,{variant:"l_l_m",asChild:!0,children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"bank-transfer",checked:c==="bank-transfer",onChange:a=>{h(a.target.value),x({})},className:"text-[var(--color-p)]"}),e.jsx("span",{children:"Bank Transfer"})]})}),e.jsx(r,{variant:"l_l_m",asChild:!0,children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cash-on-delivery",checked:c==="cash-on-delivery",onChange:a=>{h(a.target.value),x({})},className:"text-[var(--color-p)]"}),e.jsx("span",{children:"Cash On Delivery"})]})})]})]}),D(M),e.jsx(r,{variant:"l_l_m",className:"text-center",children:e.jsx("button",{type:"submit",className:"w-full bg-[var(--color-p)] text-[var(--color-bg-b)] py-3 px-4 rounded-lg hover:bg-[var(--color-n)] transition-all duration-300 ease-in-out mt-4 cursor-pointer",children:"Complete Payment"})})]})]})]})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-[var(--color-n)]/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-[var(--color-bg-b)] rounded-lg shadow-xl max-w-lg w-full",children:e.jsxs("div",{className:"w-full h-fit p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(r,{variant:"h5",children:"Order Confirmed!"}),e.jsx("button",{onClick:()=>{B(),window.scrollTo(0,0)},className:"text-[var(--color-n-m)] hover:text-[var(--color-n)]",children:e.jsx(T,{size:24})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{variant:"p_r",className:"mb-2 text-[var(--color-n)]",children:"Thank you for the purchase!"}),e.jsxs(r,{variant:"p_r",className:"text-[var(--color-n)]",children:["Your order number is ",e.jsxs("strong",{className:"text-[var(--color-p)]",children:["#",Math.floor(Math.random()*1e6)]})]})]}),e.jsxs("div",{className:"border-t border-b border-[var(--color-bd)] py-4 mb-4",children:[b.map(a=>e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsxs(r,{variant:"p_r",className:"text-[var(--color-n-m)]",children:[a.name," x ",a.quantity]}),e.jsxs(r,{variant:"p_r",className:"text-[var(--color-n-m)]",children:["$",a.totalPrice.toFixed(2)]})]},a.id)),e.jsx(r,{variant:"p_L_m",className:"text-[var(--color-n)]",children:e.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-[var(--color-bd)]",children:[e.jsx("span",{children:"Total:"}),e.jsxs("strong",{className:"text-[var(--color-s)]",children:["$",f]})]})})]}),e.jsxs(r,{variant:"p_m",className:"text-[var(--color-n)] mb-6",children:["Payment Method: ",e.jsx("strong",{className:"text-[var(--color-n-m)]",children:c.replace(/-/g," ")})]}),e.jsx("div",{className:"w-full h-fit flex justify-center",children:e.jsx(w,{to:"/",onClick:()=>{V(),window.scrollTo(0,0)},className:"w-full bg-[var(--color-p)] text-[var(--color-bg-b)] px-6 py-2 rounded-lg hover:bg-[var(--color-n)] text-center transition-all duration-300 cursor-pointer ease-in-out",children:e.jsx(r,{variant:"l_l_m",children:"Done"})})})]})})})]})};export{Y as default};
